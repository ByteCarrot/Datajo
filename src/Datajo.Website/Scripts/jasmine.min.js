var isCommonJS=typeof window=="undefined"&&typeof exports=="object",jasmine={},spyOn,it,xit,expect,runs,waits,waitsFor,beforeEach,afterEach,describe,xdescribe;isCommonJS&&(exports.jasmine=jasmine),jasmine.unimplementedMethod_=function(){throw new Error("unimplemented method");},jasmine.undefined=jasmine.___undefined___,jasmine.VERBOSE=!1,jasmine.DEFAULT_UPDATE_INTERVAL=250,jasmine.MAX_PRETTY_PRINT_DEPTH=40,jasmine.DEFAULT_TIMEOUT_INTERVAL=5e3,jasmine.CATCH_EXCEPTIONS=!0,jasmine.getGlobal=function(){function n(){return this}return n()},jasmine.bindOriginal_=function(n,t){var i=n[t];return i.apply?function(){return i.apply(n,arguments)}:jasmine.getGlobal()[t]},jasmine.setTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"setTimeout"),jasmine.clearTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"clearTimeout"),jasmine.setInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"setInterval"),jasmine.clearInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"clearInterval"),jasmine.MessageResult=function(n){this.type="log",this.values=n,this.trace=new Error},jasmine.MessageResult.prototype.toString=function(){for(var t="",n=0;n<this.values.length;n++)n>0&&(t+=" "),t+=jasmine.isString_(this.values[n])?this.values[n]:jasmine.pp(this.values[n]);return t},jasmine.ExpectationResult=function(n){this.type="expect",this.matcherName=n.matcherName,this.passed_=n.passed,this.expected=n.expected,this.actual=n.actual,this.message=this.passed_?"Passed.":n.message;var t=n.trace||new Error(this.message);this.trace=this.passed_?"":t},jasmine.ExpectationResult.prototype.toString=function(){return this.message},jasmine.ExpectationResult.prototype.passed=function(){return this.passed_},jasmine.getEnv=function(){return jasmine.currentEnv_=jasmine.currentEnv_||new jasmine.Env},jasmine.isArray_=function(n){return jasmine.isA_("Array",n)},jasmine.isString_=function(n){return jasmine.isA_("String",n)},jasmine.isNumber_=function(n){return jasmine.isA_("Number",n)},jasmine.isA_=function(n,t){return Object.prototype.toString.apply(t)==="[object "+n+"]"},jasmine.pp=function(n){var t=new jasmine.StringPrettyPrinter;return t.format(n),t.string},jasmine.isDomNode=function(n){return n.nodeType>0},jasmine.any=function(n){return new jasmine.Matchers.Any(n)},jasmine.objectContaining=function(n){return new jasmine.Matchers.ObjectContaining(n)},jasmine.Spy=function(n){this.identity=n||"unknown",this.isSpy=!0,this.plan=function(){},this.mostRecentCall={},this.argsForCall=[],this.calls=[]},jasmine.Spy.prototype.andCallThrough=function(){return this.plan=this.originalValue,this},jasmine.Spy.prototype.andReturn=function(n){return this.plan=function(){return n},this},jasmine.Spy.prototype.andThrow=function(n){return this.plan=function(){throw n;},this},jasmine.Spy.prototype.andCallFake=function(n){return this.plan=n,this},jasmine.Spy.prototype.reset=function(){this.wasCalled=!1,this.callCount=0,this.argsForCall=[],this.calls=[],this.mostRecentCall={}},jasmine.createSpy=function(n){var t=function(){t.wasCalled=!0,t.callCount++;var n=jasmine.util.argsToArray(arguments);return t.mostRecentCall.object=this,t.mostRecentCall.args=n,t.argsForCall.push(n),t.calls.push({object:this,args:n}),t.plan.apply(this,arguments)},r=new jasmine.Spy(n),i;for(i in r)t[i]=r[i];return t.reset(),t},jasmine.isSpy=function(n){return n&&n.isSpy},jasmine.createSpyObj=function(n,t){var r,i;if(!jasmine.isArray_(t)||t.length===0)throw new Error("createSpyObj requires a non-empty array of method names to create spies for");for(r={},i=0;i<t.length;i++)r[t[i]]=jasmine.createSpy(n+"."+t[i]);return r},jasmine.log=function(){var n=jasmine.getEnv().currentSpec;n.log.apply(n,arguments)},spyOn=function(n,t){return jasmine.getEnv().currentSpec.spyOn(n,t)},isCommonJS&&(exports.spyOn=spyOn),it=function(n,t){return jasmine.getEnv().it(n,t)},isCommonJS&&(exports.it=it),xit=function(n,t){return jasmine.getEnv().xit(n,t)},isCommonJS&&(exports.xit=xit),expect=function(n){return jasmine.getEnv().currentSpec.expect(n)},isCommonJS&&(exports.expect=expect),runs=function(n){jasmine.getEnv().currentSpec.runs(n)},isCommonJS&&(exports.runs=runs),waits=function(n){jasmine.getEnv().currentSpec.waits(n)},isCommonJS&&(exports.waits=waits),waitsFor=function(){jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec,arguments)},isCommonJS&&(exports.waitsFor=waitsFor),beforeEach=function(n){jasmine.getEnv().beforeEach(n)},isCommonJS&&(exports.beforeEach=beforeEach),afterEach=function(n){jasmine.getEnv().afterEach(n)},isCommonJS&&(exports.afterEach=afterEach),describe=function(n,t){return jasmine.getEnv().describe(n,t)},isCommonJS&&(exports.describe=describe),xdescribe=function(n,t){return jasmine.getEnv().xdescribe(n,t)},isCommonJS&&(exports.xdescribe=xdescribe),jasmine.XmlHttpRequest=typeof XMLHttpRequest=="undefined"?function(){function n(n){try{return n()}catch(t){}return null}var t=n(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")})||n(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")})||n(function(){return new ActiveXObject("Msxml2.XMLHTTP")})||n(function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!t)throw new Error("This browser does not support XMLHttpRequest.");return t}:XMLHttpRequest,jasmine.util={},jasmine.util.inherit=function(n,t){var i=function(){};i.prototype=t.prototype,n.prototype=new i},jasmine.util.formatException=function(n){var t,i,r;return n.line?t=n.line:n.lineNumber&&(t=n.lineNumber),n.sourceURL?i=n.sourceURL:n.fileName&&(i=n.fileName),r=n.name&&n.message?n.name+": "+n.message:n.toString(),i&&t&&(r+=" in "+i+" (line "+t+")"),r},jasmine.util.htmlEscape=function(n){return n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n},jasmine.util.argsToArray=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);return i},jasmine.util.extend=function(n,t){for(var i in t)n[i]=t[i];return n},jasmine.Env=function(){this.currentSpec=null,this.currentSuite=null,this.currentRunner_=new jasmine.Runner(this),this.reporter=new jasmine.MultiReporter,this.updateInterval=jasmine.DEFAULT_UPDATE_INTERVAL,this.defaultTimeoutInterval=jasmine.DEFAULT_TIMEOUT_INTERVAL,this.lastUpdate=0,this.specFilter=function(){return!0},this.nextSpecId_=0,this.nextSuiteId_=0,this.equalityTesters_=[],this.matchersClass=function(){jasmine.Matchers.apply(this,arguments)},jasmine.util.inherit(this.matchersClass,jasmine.Matchers),jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype,this.matchersClass)},jasmine.Env.prototype.setTimeout=jasmine.setTimeout,jasmine.Env.prototype.clearTimeout=jasmine.clearTimeout,jasmine.Env.prototype.setInterval=jasmine.setInterval,jasmine.Env.prototype.clearInterval=jasmine.clearInterval,jasmine.Env.prototype.version=function(){if(jasmine.version_)return jasmine.version_;throw new Error("Version not set");},jasmine.Env.prototype.versionString=function(){if(!jasmine.version_)return"version unknown";var n=this.version(),t=n.major+"."+n.minor+"."+n.build;return n.release_candidate&&(t+=".rc"+n.release_candidate),t+(" revision "+n.revision)},jasmine.Env.prototype.nextSpecId=function(){return this.nextSpecId_++},jasmine.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++},jasmine.Env.prototype.addReporter=function(n){this.reporter.addReporter(n)},jasmine.Env.prototype.execute=function(){this.currentRunner_.execute()},jasmine.Env.prototype.describe=function(n,t){var i=new jasmine.Suite(this,n,t,this.currentSuite),u=this.currentSuite,r;u?u.add(i):this.currentRunner_.add(i),this.currentSuite=i,r=null;try{t.call(i)}catch(f){r=f}return r&&this.it("encountered a declaration exception",function(){throw r;}),this.currentSuite=u,i},jasmine.Env.prototype.beforeEach=function(n){this.currentSuite?this.currentSuite.beforeEach(n):this.currentRunner_.beforeEach(n)},jasmine.Env.prototype.currentRunner=function(){return this.currentRunner_},jasmine.Env.prototype.afterEach=function(n){this.currentSuite?this.currentSuite.afterEach(n):this.currentRunner_.afterEach(n)},jasmine.Env.prototype.xdescribe=function(){return{execute:function(){}}},jasmine.Env.prototype.it=function(n,t){var i=new jasmine.Spec(this,this.currentSuite,n);return this.currentSuite.add(i),this.currentSpec=i,t&&i.runs(t),i},jasmine.Env.prototype.xit=function(){return{id:this.nextSpecId(),runs:function(){}}},jasmine.Env.prototype.compareRegExps_=function(n,t,i,r){return n.source!=t.source&&r.push("expected pattern /"+t.source+"/ is not equal to the pattern /"+n.source+"/"),n.ignoreCase!=t.ignoreCase&&r.push("expected modifier i was"+(t.ignoreCase?" ":" not ")+"set and does not equal the origin modifier"),n.global!=t.global&&r.push("expected modifier g was"+(t.global?" ":" not ")+"set and does not equal the origin modifier"),n.multiline!=t.multiline&&r.push("expected modifier m was"+(t.multiline?" ":" not ")+"set and does not equal the origin modifier"),n.sticky!=t.sticky&&r.push("expected modifier y was"+(t.sticky?" ":" not ")+"set and does not equal the origin modifier"),r.length===0},jasmine.Env.prototype.compareObjects_=function(n,t,i,r){var f,u;if(n.__Jasmine_been_here_before__===t&&t.__Jasmine_been_here_before__===n)return!0;n.__Jasmine_been_here_before__=t,t.__Jasmine_been_here_before__=n,f=function(n,t){return n!==null&&n[t]!==jasmine.undefined};for(u in t)!f(n,u)&&f(t,u)&&i.push("expected has key '"+u+"', but missing from actual.");for(u in n)!f(t,u)&&f(n,u)&&i.push("expected missing key '"+u+"', but present in actual.");for(u in t)u!="__Jasmine_been_here_before__"&&(this.equals_(n[u],t[u],i,r)||r.push("'"+u+"' was '"+(t[u]?jasmine.util.htmlEscape(t[u].toString()):t[u])+"' in expected, but was '"+(n[u]?jasmine.util.htmlEscape(n[u].toString()):n[u])+"' in actual."));return jasmine.isArray_(n)&&jasmine.isArray_(t)&&n.length!=t.length&&r.push("arrays were not the same length"),delete n.__Jasmine_been_here_before__,delete t.__Jasmine_been_here_before__,i.length===0&&r.length===0},jasmine.Env.prototype.equals_=function(n,t,i,r){var u,e,f;for(i=i||[],r=r||[],u=0;u<this.equalityTesters_.length;u++)if(e=this.equalityTesters_[u],f=e(n,t,this,i,r),f!==jasmine.undefined)return f;return n===t?!0:n===jasmine.undefined||n===null||t===jasmine.undefined||t===null?n==jasmine.undefined&&t==jasmine.undefined:jasmine.isDomNode(n)&&jasmine.isDomNode(t)?n===t:n instanceof Date&&t instanceof Date?n.getTime()==t.getTime():n.jasmineMatches?n.jasmineMatches(t):t.jasmineMatches?t.jasmineMatches(n):n instanceof jasmine.Matchers.ObjectContaining?n.matches(t):t instanceof jasmine.Matchers.ObjectContaining?t.matches(n):jasmine.isString_(n)&&jasmine.isString_(t)?n==t:jasmine.isNumber_(n)&&jasmine.isNumber_(t)?n==t:n instanceof RegExp&&t instanceof RegExp?this.compareRegExps_(n,t,i,r):typeof n=="object"&&typeof t=="object"?this.compareObjects_(n,t,i,r):n===t},jasmine.Env.prototype.contains_=function(n,t){if(jasmine.isArray_(n)){for(var i=0;i<n.length;i++)if(this.equals_(n[i],t))return!0;return!1}return n.indexOf(t)>=0},jasmine.Env.prototype.addEqualityTester=function(n){this.equalityTesters_.push(n)},jasmine.Reporter=function(){},jasmine.Reporter.prototype.reportRunnerStarting=function(){},jasmine.Reporter.prototype.reportRunnerResults=function(){},jasmine.Reporter.prototype.reportSuiteResults=function(){},jasmine.Reporter.prototype.reportSpecStarting=function(){},jasmine.Reporter.prototype.reportSpecResults=function(){},jasmine.Reporter.prototype.log=function(){},jasmine.Block=function(n,t,i){this.env=n,this.func=t,this.spec=i},jasmine.Block.prototype.execute=function(n){if(jasmine.CATCH_EXCEPTIONS)try{this.func.apply(this.spec)}catch(t){this.spec.fail(t)}else this.func.apply(this.spec);n()},jasmine.JsApiReporter=function(){this.started=!1,this.finished=!1,this.suites_=[],this.results_={}},jasmine.JsApiReporter.prototype.reportRunnerStarting=function(n){var i,t,r;for(this.started=!0,i=n.topLevelSuites(),t=0;t<i.length;t++)r=i[t],this.suites_.push(this.summarize_(r))},jasmine.JsApiReporter.prototype.suites=function(){return this.suites_},jasmine.JsApiReporter.prototype.summarize_=function(n){var r=n instanceof jasmine.Suite,u={id:n.id,name:n.description,type:r?"suite":"spec",children:[]},i,t;if(r)for(i=n.children(),t=0;t<i.length;t++)u.children.push(this.summarize_(i[t]));return u},jasmine.JsApiReporter.prototype.results=function(){return this.results_},jasmine.JsApiReporter.prototype.resultsForSpec=function(n){return this.results_[n]},jasmine.JsApiReporter.prototype.reportRunnerResults=function(){this.finished=!0},jasmine.JsApiReporter.prototype.reportSuiteResults=function(){},jasmine.JsApiReporter.prototype.reportSpecResults=function(n){this.results_[n.id]={messages:n.results().getItems(),result:n.results().failedCount>0?"failed":"passed"}},jasmine.JsApiReporter.prototype.log=function(){},jasmine.JsApiReporter.prototype.resultsForSpecs=function(n){for(var r={},i,t=0;t<n.length;t++)i=n[t],r[i]=this.summarizeResult_(this.results_[i]);return r},jasmine.JsApiReporter.prototype.summarizeResult_=function(n){for(var r=[],u=n.messages.length,t,i=0;i<u;i++)t=n.messages[i],r.push({text:t.type=="log"?t.toString():jasmine.undefined,passed:t.passed?t.passed():!0,type:t.type,message:t.message,trace:{stack:t.passed&&!t.passed()?t.trace.stack:jasmine.undefined}});return{result:n.result,messages:r}},jasmine.Matchers=function(n,t,i,r){this.env=n,this.actual=t,this.spec=i,this.isNot=r||!1,this.reportWasCalled_=!1},jasmine.Matchers.pp=function(){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!");},jasmine.Matchers.prototype.report=function(){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs");},jasmine.Matchers.wrapInto_=function(n,t){var i,r;for(i in n)i!="report"&&(r=n[i],t.prototype[i]=jasmine.Matchers.matcherFn_(i,r))},jasmine.Matchers.matcherFn_=function(n,t){return function(){var r=jasmine.util.argsToArray(arguments),u=t.apply(this,arguments),i,e,f,o;if(this.isNot&&(u=!u),this.reportWasCalled_)return u;if(!u)if(this.message)i=this.message.apply(this,arguments),jasmine.isArray_(i)&&(i=i[this.isNot?1:0]);else{if(e=n.replace(/[A-Z]/g,function(n){return" "+n.toLowerCase()}),i="Expected "+jasmine.pp(this.actual)+(this.isNot?" not ":" ")+e,r.length>0)for(f=0;f<r.length;f++)f>0&&(i+=","),i+=" "+jasmine.pp(r[f]);i+="."}return o=new jasmine.ExpectationResult({matcherName:n,passed:u,expected:r.length>1?r:r[0],actual:this.actual,message:i}),this.spec.addMatcherResult(o),jasmine.undefined}},jasmine.Matchers.prototype.toBe=function(n){return this.actual===n},jasmine.Matchers.prototype.toNotBe=function(n){return this.actual!==n},jasmine.Matchers.prototype.toEqual=function(n){return this.env.equals_(this.actual,n)},jasmine.Matchers.prototype.toNotEqual=function(n){return!this.env.equals_(this.actual,n)},jasmine.Matchers.prototype.toMatch=function(n){return new RegExp(n).test(this.actual)},jasmine.Matchers.prototype.toNotMatch=function(n){return!new RegExp(n).test(this.actual)},jasmine.Matchers.prototype.toBeDefined=function(){return this.actual!==jasmine.undefined},jasmine.Matchers.prototype.toBeUndefined=function(){return this.actual===jasmine.undefined},jasmine.Matchers.prototype.toBeNull=function(){return this.actual===null},jasmine.Matchers.prototype.toBeNaN=function(){return this.message=function(){return["Expected "+jasmine.pp(this.actual)+" to be NaN."]},this.actual!==this.actual},jasmine.Matchers.prototype.toBeTruthy=function(){return!!this.actual},jasmine.Matchers.prototype.toBeFalsy=function(){return!this.actual},jasmine.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0)throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]},this.actual.wasCalled},jasmine.Matchers.prototype.wasCalled=jasmine.Matchers.prototype.toHaveBeenCalled,jasmine.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0)throw new Error("wasNotCalled does not take arguments");if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]},!this.actual.wasCalled},jasmine.Matchers.prototype.toHaveBeenCalledWith=function(){var n=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){var i="Expected spy "+this.actual.identity+" not to have been called with "+jasmine.pp(n)+" but it was.",t="";return t=this.actual.callCount===0?"Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(n)+" but it was never called.":"Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(n)+" but actual calls were "+jasmine.pp(this.actual.argsForCall).replace(/^\[ | \]$/g,""),[t,i]},this.env.contains_(this.actual.argsForCall,n)},jasmine.Matchers.prototype.wasCalledWith=jasmine.Matchers.prototype.toHaveBeenCalledWith,jasmine.Matchers.prototype.wasNotCalledWith=function(){var n=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){return["Expected spy not to have been called with "+jasmine.pp(n)+" but it was","Expected spy to have been called with "+jasmine.pp(n)+" but it was"]},!this.env.contains_(this.actual.argsForCall,n)},jasmine.Matchers.prototype.toContain=function(n){return this.env.contains_(this.actual,n)},jasmine.Matchers.prototype.toNotContain=function(n){return!this.env.contains_(this.actual,n)},jasmine.Matchers.prototype.toBeLessThan=function(n){return this.actual<n},jasmine.Matchers.prototype.toBeGreaterThan=function(n){return this.actual>n},jasmine.Matchers.prototype.toBeCloseTo=function(n,t){return t===0||(t=t||2),Math.abs(n-this.actual)<Math.pow(10,-t)/2},jasmine.Matchers.prototype.toThrow=function(n){var i=!1,t,r;if(typeof this.actual!="function")throw new Error("Actual is not a function");try{this.actual()}catch(u){t=u}return t&&(i=n===jasmine.undefined||this.env.equals_(t.message||t,n.message||n)),r=this.isNot?"not ":"",this.message=function(){return t&&(n===jasmine.undefined||!this.env.equals_(t.message||t,n.message||n))?["Expected function "+r+"to throw",n?n.message||n:"an exception",", but it threw",t.message||t].join(" "):"Expected function to throw an exception."},i},jasmine.Matchers.Any=function(n){this.expectedClass=n},jasmine.Matchers.Any.prototype.jasmineMatches=function(n){return this.expectedClass==String?typeof n=="string"||n instanceof String:this.expectedClass==Number?typeof n=="number"||n instanceof Number:this.expectedClass==Function?typeof n=="function"||n instanceof Function:this.expectedClass==Object?typeof n=="object":n instanceof this.expectedClass},jasmine.Matchers.Any.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>"},jasmine.Matchers.ObjectContaining=function(n){this.sample=n},jasmine.Matchers.ObjectContaining.prototype.jasmineMatches=function(n,t,i){var f,u,r;t=t||[],i=i||[],f=jasmine.getEnv(),u=function(n,t){return n!=null&&n[t]!==jasmine.undefined};for(r in this.sample)!u(n,r)&&u(this.sample,r)?t.push("expected has key '"+r+"', but missing from actual."):f.equals_(this.sample[r],n[r],t,i)||i.push("'"+r+"' was '"+(n[r]?jasmine.util.htmlEscape(n[r].toString()):n[r])+"' in expected, but was '"+(this.sample[r]?jasmine.util.htmlEscape(this.sample[r].toString()):this.sample[r])+"' in actual.");return t.length===0&&i.length===0},jasmine.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+jasmine.pp(this.sample)+")>"},jasmine.FakeTimer=function(){this.reset();var n=this;n.setTimeout=function(t,i){return n.timeoutsMade++,n.scheduleFunction(n.timeoutsMade,t,i,!1),n.timeoutsMade},n.setInterval=function(t,i){return n.timeoutsMade++,n.scheduleFunction(n.timeoutsMade,t,i,!0),n.timeoutsMade},n.clearTimeout=function(t){n.scheduledFunctions[t]=jasmine.undefined},n.clearInterval=function(t){n.scheduledFunctions[t]=jasmine.undefined}},jasmine.FakeTimer.prototype.reset=function(){this.timeoutsMade=0,this.scheduledFunctions={},this.nowMillis=0},jasmine.FakeTimer.prototype.tick=function(n){var t=this.nowMillis,i=t+n;this.runFunctionsWithinRange(t,i),this.nowMillis=i},jasmine.FakeTimer.prototype.runFunctionsWithinRange=function(n,t){var r,u=[],e,f,i;for(e in this.scheduledFunctions)r=this.scheduledFunctions[e],r!=jasmine.undefined&&r.runAtMillis>=n&&r.runAtMillis<=t&&(u.push(r),this.scheduledFunctions[e]=jasmine.undefined);if(u.length>0){for(u.sort(function(n,t){return n.runAtMillis-t.runAtMillis}),f=0;f<u.length;++f)try{i=u[f],this.nowMillis=i.runAtMillis,i.funcToCall(),i.recurring&&this.scheduleFunction(i.timeoutKey,i.funcToCall,i.millis,!0)}catch(o){}this.runFunctionsWithinRange(n,t)}},jasmine.FakeTimer.prototype.scheduleFunction=function(n,t,i,r){this.scheduledFunctions[n]={runAtMillis:this.nowMillis+i,funcToCall:t,recurring:r,timeoutKey:n,millis:i}},jasmine.Clock={defaultFakeTimer:new jasmine.FakeTimer,reset:function(){jasmine.Clock.assertInstalled(),jasmine.Clock.defaultFakeTimer.reset()},tick:function(n){jasmine.Clock.assertInstalled(),jasmine.Clock.defaultFakeTimer.tick(n)},runFunctionsWithinRange:function(n,t){jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(n,t)},scheduleFunction:function(n,t,i,r){jasmine.Clock.defaultFakeTimer.scheduleFunction(n,t,i,r)},useMock:function(){if(!jasmine.Clock.isInstalled()){var n=jasmine.getEnv().currentSpec;n.after(jasmine.Clock.uninstallMock),jasmine.Clock.installMock()}},installMock:function(){jasmine.Clock.installed=jasmine.Clock.defaultFakeTimer},uninstallMock:function(){jasmine.Clock.assertInstalled(),jasmine.Clock.installed=jasmine.Clock.real},real:{setTimeout:jasmine.getGlobal().setTimeout,clearTimeout:jasmine.getGlobal().clearTimeout,setInterval:jasmine.getGlobal().setInterval,clearInterval:jasmine.getGlobal().clearInterval},assertInstalled:function(){if(!jasmine.Clock.isInstalled())throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()");},isInstalled:function(){return jasmine.Clock.installed==jasmine.Clock.defaultFakeTimer},installed:null},jasmine.Clock.installed=jasmine.Clock.real,jasmine.getGlobal().setTimeout=function(n,t){return jasmine.Clock.installed.setTimeout.apply?jasmine.Clock.installed.setTimeout.apply(this,arguments):jasmine.Clock.installed.setTimeout(n,t)},jasmine.getGlobal().setInterval=function(n,t){return jasmine.Clock.installed.setInterval.apply?jasmine.Clock.installed.setInterval.apply(this,arguments):jasmine.Clock.installed.setInterval(n,t)},jasmine.getGlobal().clearTimeout=function(n){return jasmine.Clock.installed.clearTimeout.apply?jasmine.Clock.installed.clearTimeout.apply(this,arguments):jasmine.Clock.installed.clearTimeout(n)},jasmine.getGlobal().clearInterval=function(n){return jasmine.Clock.installed.clearTimeout.apply?jasmine.Clock.installed.clearInterval.apply(this,arguments):jasmine.Clock.installed.clearInterval(n)},jasmine.MultiReporter=function(){this.subReporters_=[]},jasmine.util.inherit(jasmine.MultiReporter,jasmine.Reporter),jasmine.MultiReporter.prototype.addReporter=function(n){this.subReporters_.push(n)},function(){for(var i=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"],t,n=0;n<i.length;n++)t=i[n],jasmine.MultiReporter.prototype[t]=function(n){return function(){for(var i,t=0;t<this.subReporters_.length;t++)i=this.subReporters_[t],i[n]&&i[n].apply(i,arguments)}}(t)}(),jasmine.NestedResults=function(){this.totalCount=0,this.passedCount=0,this.failedCount=0,this.skipped=!1,this.items_=[]},jasmine.NestedResults.prototype.rollupCounts=function(n){this.totalCount+=n.totalCount,this.passedCount+=n.passedCount,this.failedCount+=n.failedCount},jasmine.NestedResults.prototype.log=function(n){this.items_.push(new jasmine.MessageResult(n))},jasmine.NestedResults.prototype.getItems=function(){return this.items_},jasmine.NestedResults.prototype.addResult=function(n){n.type!="log"&&(n.items_?this.rollupCounts(n):(this.totalCount++,n.passed()?this.passedCount++:this.failedCount++)),this.items_.push(n)},jasmine.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount},jasmine.PrettyPrinter=function(){this.ppNestLevel_=0},jasmine.PrettyPrinter.prototype.format=function(n){this.ppNestLevel_++;try{n===jasmine.undefined?this.emitScalar("undefined"):n===null?this.emitScalar("null"):n===jasmine.getGlobal()?this.emitScalar("<global>"):n.jasmineToString?this.emitScalar(n.jasmineToString()):typeof n=="string"?this.emitString(n):jasmine.isSpy(n)?this.emitScalar("spy on "+n.identity):n instanceof RegExp?this.emitScalar(n.toString()):typeof n=="function"?this.emitScalar("Function"):typeof n.nodeType=="number"?this.emitScalar("HTMLNode"):n instanceof Date?this.emitScalar("Date("+n+")"):n.__Jasmine_been_here_before__?this.emitScalar("<circular reference: "+(jasmine.isArray_(n)?"Array":"Object")+">"):jasmine.isArray_(n)||typeof n=="object"?(n.__Jasmine_been_here_before__=!0,jasmine.isArray_(n)?this.emitArray(n):this.emitObject(n),delete n.__Jasmine_been_here_before__):this.emitScalar(n.toString())}finally{this.ppNestLevel_--}},jasmine.PrettyPrinter.prototype.iterateObject=function(n,t){for(var i in n)n.hasOwnProperty(i)&&i!="__Jasmine_been_here_before__"&&t(i,n.__lookupGetter__?n.__lookupGetter__(i)!==jasmine.undefined&&n.__lookupGetter__(i)!==null:!1)},jasmine.PrettyPrinter.prototype.emitArray=jasmine.unimplementedMethod_,jasmine.PrettyPrinter.prototype.emitObject=jasmine.unimplementedMethod_,jasmine.PrettyPrinter.prototype.emitScalar=jasmine.unimplementedMethod_,jasmine.PrettyPrinter.prototype.emitString=jasmine.unimplementedMethod_,jasmine.StringPrettyPrinter=function(){jasmine.PrettyPrinter.call(this),this.string=""},jasmine.util.inherit(jasmine.StringPrettyPrinter,jasmine.PrettyPrinter),jasmine.StringPrettyPrinter.prototype.emitScalar=function(n){this.append(n)},jasmine.StringPrettyPrinter.prototype.emitString=function(n){this.append("'"+n+"'")},jasmine.StringPrettyPrinter.prototype.emitArray=function(n){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Array");return}this.append("[ ");for(var t=0;t<n.length;t++)t>0&&this.append(", "),this.format(n[t]);this.append(" ]")},jasmine.StringPrettyPrinter.prototype.emitObject=function(n){var t,i;if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Object");return}t=this,this.append("{ "),i=!0,this.iterateObject(n,function(r,u){i?i=!1:t.append(", "),t.append(r),t.append(" : "),u?t.append("<getter>"):t.format(n[r])}),this.append(" }")},jasmine.StringPrettyPrinter.prototype.append=function(n){this.string+=n},jasmine.Queue=function(n){this.env=n,this.ensured=[],this.blocks=[],this.running=!1,this.index=0,this.offset=0,this.abort=!1},jasmine.Queue.prototype.addBefore=function(n,t){t===jasmine.undefined&&(t=!1),this.blocks.unshift(n),this.ensured.unshift(t)},jasmine.Queue.prototype.add=function(n,t){t===jasmine.undefined&&(t=!1),this.blocks.push(n),this.ensured.push(t)},jasmine.Queue.prototype.insertNext=function(n,t){t===jasmine.undefined&&(t=!1),this.ensured.splice(this.index+this.offset+1,0,t),this.blocks.splice(this.index+this.offset+1,0,n),this.offset++},jasmine.Queue.prototype.start=function(n){this.running=!0,this.onComplete=n,this.next_()},jasmine.Queue.prototype.isRunning=function(){return this.running},jasmine.Queue.LOOP_DONT_RECURSE=!0,jasmine.Queue.prototype.next_=function(){for(var n=this,t=!0;t;)if(t=!1,n.index<n.blocks.length&&!(this.abort&&!this.ensured[n.index])){var r=!0,i=!1,u=function(){if(jasmine.Queue.LOOP_DONT_RECURSE&&r){i=!0;return}n.blocks[n.index].abort&&(n.abort=!0),n.offset=0,n.index++;var u=(new Date).getTime();n.env.updateInterval&&u-n.env.lastUpdate>n.env.updateInterval?(n.env.lastUpdate=u,n.env.setTimeout(function(){n.next_()},0)):jasmine.Queue.LOOP_DONT_RECURSE&&i?t=!0:n.next_()};n.blocks[n.index].execute(u),r=!1,i&&u()}else n.running=!1,n.onComplete&&n.onComplete()},jasmine.Queue.prototype.results=function(){for(var t=new jasmine.NestedResults,n=0;n<this.blocks.length;n++)this.blocks[n].results&&t.addResult(this.blocks[n].results());return t},jasmine.Runner=function(n){var t=this;t.env=n,t.queue=new jasmine.Queue(n),t.before_=[],t.after_=[],t.suites_=[]},jasmine.Runner.prototype.execute=function(){var n=this;n.env.reporter.reportRunnerStarting&&n.env.reporter.reportRunnerStarting(this),n.queue.start(function(){n.finishCallback()})},jasmine.Runner.prototype.beforeEach=function(n){n.typeName="beforeEach",this.before_.splice(0,0,n)},jasmine.Runner.prototype.afterEach=function(n){n.typeName="afterEach",this.after_.splice(0,0,n)},jasmine.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)},jasmine.Runner.prototype.addSuite=function(n){this.suites_.push(n)},jasmine.Runner.prototype.add=function(n){n instanceof jasmine.Suite&&this.addSuite(n),this.queue.add(n)},jasmine.Runner.prototype.specs=function(){for(var i=this.suites(),t=[],n=0;n<i.length;n++)t=t.concat(i[n].specs());return t},jasmine.Runner.prototype.suites=function(){return this.suites_},jasmine.Runner.prototype.topLevelSuites=function(){for(var t=[],n=0;n<this.suites_.length;n++)this.suites_[n].parentSuite||t.push(this.suites_[n]);return t},jasmine.Runner.prototype.results=function(){return this.queue.results()},jasmine.Spec=function(n,t,i){if(!n)throw new Error("jasmine.Env() required");if(!t)throw new Error("jasmine.Suite() required");var r=this;r.id=n.nextSpecId?n.nextSpecId():null,r.env=n,r.suite=t,r.description=i,r.queue=new jasmine.Queue(n),r.afterCallbacks=[],r.spies_=[],r.results_=new jasmine.NestedResults,r.results_.description=i,r.matchersClass=null},jasmine.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+"."},jasmine.Spec.prototype.results=function(){return this.results_},jasmine.Spec.prototype.log=function(){return this.results_.log(arguments)},jasmine.Spec.prototype.runs=function(n){var t=new jasmine.Block(this.env,n,this);return this.addToQueue(t),this},jasmine.Spec.prototype.addToQueue=function(n){this.queue.isRunning()?this.queue.insertNext(n):this.queue.add(n)},jasmine.Spec.prototype.addMatcherResult=function(n){this.results_.addResult(n)},jasmine.Spec.prototype.expect=function(n){var t=new(this.getMatchersClass_())(this.env,n,this);return t.not=new(this.getMatchersClass_())(this.env,n,this,!0),t},jasmine.Spec.prototype.waits=function(n){var t=new jasmine.WaitsBlock(this.env,n,this);return this.addToQueue(t),this},jasmine.Spec.prototype.waitsFor=function(){for(var i=null,r=null,u=null,n,f,t=0;t<arguments.length;t++){n=arguments[t];switch(typeof n){case"function":i=n;break;case"string":r=n;break;case"number":u=n}}return f=new jasmine.WaitsForBlock(this.env,u,i,r,this),this.addToQueue(f),this},jasmine.Spec.prototype.fail=function(n){var t=new jasmine.ExpectationResult({passed:!1,message:n?jasmine.util.formatException(n):"Exception",trace:{stack:n.stack}});this.results_.addResult(t)},jasmine.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass},jasmine.Spec.prototype.addMatchers=function(n){var i=this.getMatchersClass_(),t=function(){i.apply(this,arguments)};jasmine.util.inherit(t,i),jasmine.Matchers.wrapInto_(n,t),this.matchersClass=t},jasmine.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)},jasmine.Spec.prototype.finish=function(n){this.removeAllSpies(),this.finishCallback(),n&&n()},jasmine.Spec.prototype.after=function(n){this.queue.isRunning()?this.queue.add(new jasmine.Block(this.env,n,this),!0):this.afterCallbacks.unshift(n)},jasmine.Spec.prototype.execute=function(n){var t=this;if(!t.env.specFilter(t)){t.results_.skipped=!0,t.finish(n);return}this.env.reporter.reportSpecStarting(this),t.env.currentSpec=t,t.addBeforesAndAftersToQueue(),t.queue.start(function(){t.finish(n)})},jasmine.Spec.prototype.addBeforesAndAftersToQueue=function(){for(var i=this.env.currentRunner(),n,t=this.suite;t;t=t.parentSuite)for(n=0;n<t.before_.length;n++)this.queue.addBefore(new jasmine.Block(this.env,t.before_[n],this));for(n=0;n<i.before_.length;n++)this.queue.addBefore(new jasmine.Block(this.env,i.before_[n],this));for(n=0;n<this.afterCallbacks.length;n++)this.queue.add(new jasmine.Block(this.env,this.afterCallbacks[n],this),!0);for(t=this.suite;t;t=t.parentSuite)for(n=0;n<t.after_.length;n++)this.queue.add(new jasmine.Block(this.env,t.after_[n],this),!0);for(n=0;n<i.after_.length;n++)this.queue.add(new jasmine.Block(this.env,i.after_[n],this),!0)},jasmine.Spec.prototype.explodes=function(){throw"explodes function should not have been called";},jasmine.Spec.prototype.spyOn=function(n,t,i){if(n==jasmine.undefined)throw"spyOn could not find an object to spy upon for "+t+"()";if(!i&&n[t]===jasmine.undefined)throw t+"() method does not exist";if(!i&&n[t]&&n[t].isSpy)throw new Error(t+" has already been spied upon");var r=jasmine.createSpy(t);return this.spies_.push(r),r.baseObj=n,r.methodName=t,r.originalValue=n[t],n[t]=r,r},jasmine.Spec.prototype.removeAllSpies=function(){for(var t,n=0;n<this.spies_.length;n++)t=this.spies_[n],t.baseObj[t.methodName]=t.originalValue;this.spies_=[]},jasmine.Suite=function(n,t,i,r){var u=this;u.id=n.nextSuiteId?n.nextSuiteId():null,u.description=t,u.queue=new jasmine.Queue(n),u.parentSuite=r,u.env=n,u.before_=[],u.after_=[],u.children_=[],u.suites_=[],u.specs_=[]},jasmine.Suite.prototype.getFullName=function(){for(var t=this.description,n=this.parentSuite;n;n=n.parentSuite)t=n.description+" "+t;return t},jasmine.Suite.prototype.finish=function(n){this.env.reporter.reportSuiteResults(this),this.finished=!0,typeof n=="function"&&n()},jasmine.Suite.prototype.beforeEach=function(n){n.typeName="beforeEach",this.before_.unshift(n)},jasmine.Suite.prototype.afterEach=function(n){n.typeName="afterEach",this.after_.unshift(n)},jasmine.Suite.prototype.results=function(){return this.queue.results()},jasmine.Suite.prototype.add=function(n){this.children_.push(n),n instanceof jasmine.Suite?(this.suites_.push(n),this.env.currentRunner().addSuite(n)):this.specs_.push(n),this.queue.add(n)},jasmine.Suite.prototype.specs=function(){return this.specs_},jasmine.Suite.prototype.suites=function(){return this.suites_},jasmine.Suite.prototype.children=function(){return this.children_},jasmine.Suite.prototype.execute=function(n){var t=this;this.queue.start(function(){t.finish(n)})},jasmine.WaitsBlock=function(n,t,i){this.timeout=t,jasmine.Block.call(this,n,null,i)},jasmine.util.inherit(jasmine.WaitsBlock,jasmine.Block),jasmine.WaitsBlock.prototype.execute=function(n){jasmine.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms..."),this.env.setTimeout(function(){n()},this.timeout)},jasmine.WaitsForBlock=function(n,t,i,r,u){this.timeout=t||n.defaultTimeoutInterval,this.latchFunction=i,this.message=r,this.totalTimeSpentWaitingForLatch=0,jasmine.Block.call(this,n,null,u)},jasmine.util.inherit(jasmine.WaitsForBlock,jasmine.Block),jasmine.WaitsForBlock.TIMEOUT_INCREMENT=10,jasmine.WaitsForBlock.prototype.execute=function(n){var t,i,r;jasmine.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"));try{t=this.latchFunction.apply(this.spec)}catch(u){this.spec.fail(u),n();return}t?n():this.totalTimeSpentWaitingForLatch>=this.timeout?(i="timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen"),this.spec.fail({name:"timeout",message:i}),this.abort=!0,n()):(this.totalTimeSpentWaitingForLatch+=jasmine.WaitsForBlock.TIMEOUT_INCREMENT,r=this,this.env.setTimeout(function(){r.execute(n)},jasmine.WaitsForBlock.TIMEOUT_INCREMENT))},jasmine.version_={major:1,minor:3,build:1,revision:1354556913};